# üõ†Ô∏è –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ª–æ–∫–∞–ª—å–Ω–æ–º—É –∑–∞–ø—É—Å–∫—É PetrovichCRM (–ë–µ–∑ Docker)

–≠—Ç–æ—Ç –≥–∏–¥ –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –∑–∞–ø—É—Å—Ç–∏—Ç—å CRM —Å–∏—Å—Ç–µ–º—É –Ω–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ "–Ω–∞–ø—Ä—è–º—É—é".

---

## 1. –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:

1.  **Node.js** (–≤–µ—Ä—Å–∏—è 20.x –∏–ª–∏ 22.x). [–°–∫–∞—á–∞—Ç—å —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞](https://nodejs.org/).
2.  **PostgreSQL** (–≤–µ—Ä—Å–∏—è 15 –∏–ª–∏ –≤—ã—à–µ). [–°–∫–∞—á–∞—Ç—å –∏–Ω—Å—Ç–∞–ª–ª—è—Ç–æ—Ä](https://www.postgresql.org/download/).
    *   *–ü—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∑–∞–ø–æ–º–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `postgres`).*
3.  **Git** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è).

---

## 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ë–∞–∑—ã –î–∞–Ω–Ω—ã—Ö (PostgreSQL)

–í–∞–º –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –ø—É—Å—Ç—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—É—é –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.

### –°–ø–æ—Å–æ–± –ê: –ß–µ—Ä–µ–∑ PGAdmin (–ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
1. –û—Ç–∫—Ä–æ–π—Ç–µ **pgAdmin 4**.
2. –ù–∞–∂–º–∏—Ç–µ –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –Ω–∞ `Servers` -> `PostgreSQL` -> `Databases`.
3. –í—ã–±–µ—Ä–∏—Ç–µ `Create` -> `Database...`.
4. –í–≤–µ–¥–∏—Ç–µ –∏–º—è: `petrovich_crm` –∏ –Ω–∞–∂–º–∏—Ç–µ **Save**.

### –°–ø–æ—Å–æ–± –ë: –ß–µ—Ä–µ–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª (psql)
```bash
psql -U postgres
# –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å
CREATE DATABASE petrovich_crm;
\q
```

---

## 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ë—ç–∫–µ–Ω–¥–∞ (NestJS)

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É —Å –±—ç–∫–µ–Ω–¥–æ–º:
```bash
cd backend
```

### –®–∞–≥ 3.1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
npm install
```

### –®–∞–≥ 3.2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –ø–∞–ø–∫–µ `backend/`. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç—É–¥–∞ —Å–ª–µ–¥—É—é—â–µ–µ:

```env
PORT=3000
# –§–æ—Ä–º–∞—Ç: postgresql://–õ–û–ì–ò–ù:–ü–ê–†–û–õ–¨@localhost:5432/–ò–ú–Ø_–ë–ê–ó–´?schema=public
DATABASE_URL="postgresql://postgres:–í–ê–®_–ü–ê–†–û–õ–¨@localhost:5432/petrovich_crm?schema=public"
JWT_SECRET="any_long_random_string_here"
# API –∫–ª—é—á –¥–ª—è —Ä–∞–±–æ—Ç—ã AI —Ñ—É–Ω–∫—Ü–∏–π
API_KEY="–í–ê–®_GEMINI_API_KEY"
```
*–ó–∞–º–µ–Ω–∏—Ç–µ `–í–ê–®_–ü–ê–†–û–õ–¨` –Ω–∞ —Ç–æ—Ç, —á—Ç–æ –≤—ã —É–∫–∞–∑—ã–≤–∞–ª–∏ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ Postgres.*

### –®–∞–≥ 3.3: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î —á–µ—Ä–µ–∑ Prisma
–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü —Å –≤–∞—à–µ–π –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö:
```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞
npx prisma generate

# –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü (–º–∏–≥—Ä–∞—Ü–∏—è)
npx prisma migrate dev --name init
```

### –®–∞–≥ 3.4: –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
```bash
npm run start:dev
```
–ï—Å–ª–∏ –≤—Å—ë —É—Å–ø–µ—à–Ω–æ, –≤—ã —É–≤–∏–¥–∏—Ç–µ: `Backend is running on: http://localhost:3000`. **–ù–µ –∑–∞–∫—Ä—ã–≤–∞–π—Ç–µ —ç—Ç–æ –æ–∫–Ω–æ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞.**

---

## 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –§—Ä–æ–Ω—Ç–µ–Ω–¥–∞

–§—Ä–æ–Ω—Ç–µ–Ω–¥ –≤ –¥–∞–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ —è–≤–ª—è–µ—Ç—Å—è –ª–µ–≥–∫–∏–º (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç `importmap` –≤ `index.html`).

### –®–∞–≥ 4.1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫
–¢–∞–∫ –∫–∞–∫ —Ñ–∞–π–ª—ã `index.tsx` –∏ `App.tsx` –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞, –≤–∞–º –Ω—É–∂–µ–Ω –ª—é–±–æ–π –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –¥–ª—è –∏—Ö —Ä–∞–∑–¥–∞—á–∏.

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–æ—Å—Ç–æ–π —Å–µ—Ä–≤–µ—Ä –≥–ª–æ–±–∞–ª—å–Ω–æ (–µ—Å–ª–∏ –Ω–µ—Ç —Å–≤–æ–µ–≥–æ):
   ```bash
   npm install -g serve
   ```
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞:
   ```bash
   serve -l 3001
   ```
   *–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ "Live Server" –≤ VS Code.*

### –®–∞–≥ 4.2: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤—è–∑–∏
–û—Ç–∫—Ä–æ–π—Ç–µ [http://localhost:3001](http://localhost:3001).
*   –ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞ ‚Äî —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç.
*   –ï—Å–ª–∏ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞ **"Failed to fetch"** ‚Äî –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, –∑–∞–ø—É—â–µ–Ω –ª–∏ –±—ç–∫–µ–Ω–¥ –Ω–∞ –ø–æ—Ä—Ç—É 3000.

---

## üÜò –†–µ—à–µ–Ω–∏–µ —á–∞—Å—Ç—ã—Ö –ø—Ä–æ–±–ª–µ–º

### 1. –û—à–∏–±–∫–∞ "Failed to fetch" –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
*   **–ü—Ä–∏—á–∏–Ω–∞**: –ë—ç–∫–µ–Ω–¥ –Ω–µ –∑–∞–ø—É—â–µ–Ω –∏–ª–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä–æ–º.
*   **–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—ç–∫–µ–Ω–¥–∞. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `backend/src/main.ts` –Ω–∞—Å—Ç—Ä–æ–µ–Ω CORS (—Ä–∞–∑—Ä–µ—à–µ–Ω –ø–æ—Ä—Ç 3001).

### 2. –û—à–∏–±–∫–∞ "DATABASE_URL" –∏–ª–∏ "Connection refused"
*   **–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ–≤–µ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ `.env` –±—ç–∫–µ–Ω–¥–∞ –∏–ª–∏ —Å–ª—É–∂–±–∞ Postgres –Ω–µ –∑–∞–ø—É—â–µ–Ω–∞.
*   **–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤ Windows –≤ "–°–ª—É–∂–±–∞—Ö" (services.msc) —Å—Ç–∞—Ç—É—Å `postgresql-x64` ‚Äî "–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è".

### 3. AI –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (Summary/–ê–Ω–∞–ª–∏–∑)
*   **–†–µ—à–µ–Ω–∏–µ**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –¥–æ–±–∞–≤–∏–ª–∏ `API_KEY` –≤ `.env` –±—ç–∫–µ–Ω–¥–∞ –∏–ª–∏ –ø–µ—Ä–µ–¥–∞–µ—Ç–µ –µ–≥–æ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `GeminiService`).

---
üé® *–ü—Ä–∏—è—Ç–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è!*
