
# Инструкция по использованию Docker для TutorMaster CRM

Данный проект полностью контейнеризирован для обеспечения стабильной работы в любой среде.

## Быстрый запуск (Docker Compose)

Самый простой способ запустить CRM — использовать `docker-compose`.

1.  **Настройте переменные окружения**:
    Создайте файл `.env` в корневой директории и добавьте ваш ключ Gemini API:
    ```env
    API_KEY=ваш_ключ_здесь
    ```

2.  **Запустите контейнеры**:
    Выполните команду в терминале:
    ```bash
    docker-compose up --build -d
    ```

3.  **Доступ к приложению**:
    CRM будет доступна по адресу: [http://localhost:8080](http://localhost:8080)

## Ручная сборка (Dockerfile)

Если вы хотите собрать образ вручную:

1.  **Сборка образа**:
    ```bash
    docker build --build-arg API_KEY=ваш_ключ -t tutormaster-crm .
    ```

2.  **Запуск контейнера**:
    ```bash
    docker run -p 8080:80 tutormaster-crm
    ```

## Особенности сборки
*   **Multi-stage build**: Сначала Node.js собирает проект (транспиляция TSX, минификация), затем готовые статические файлы передаются в легковесный Nginx.
*   **Безопасность**: Секретные ключи передаются через аргументы сборки или переменные окружения.
*   **Оптимизация**: Использование `.dockerignore` гарантирует, что образ будет иметь минимальный размер.

## Устранение неполадок
*   Если изменения в коде не отображаются, используйте флаг `--build` при запуске compose.
*   Убедитесь, что порт `8080` не занят другим приложением.
